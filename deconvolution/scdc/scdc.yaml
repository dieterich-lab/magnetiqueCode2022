# rds
# path to each sc expressionSet
scData:
  Wang: /prj/MAGE/analysis/deconvolution/scdc/data/wang.rds
  # downsampled data - 3 sets generated from 3 seeds
  HCA1: /prj/MAGE/analysis/deconvolution/scdc/data/hca_1.rds
  HCA2: /prj/MAGE/analysis/deconvolution/scdc/data/hca_2.rds
  HCA3: /prj/MAGE/analysis/deconvolution/scdc/data/hca_3.rds
  SCP498_1: /prj/MAGE/analysis/deconvolution/scdc/data/scp498_1.rds
  SCP498_2: /prj/MAGE/analysis/deconvolution/scdc/data/scp498_2.rds
  SCP498_3: /prj/MAGE/analysis/deconvolution/scdc/data/scp498_3.rds
  
# rds or loom
# if rds, assume it is an expressionSet, otherwise
# expressionSet is constructed from loom file
# if loom, use default loompy column (CellID) and row (Gene) attributes 
# ** default: filter on GeneFlag and SampleFlag
bulkData: /prj/MAGE/analysis/data/stringtie/MAGNet_data.loom

# output 
dirOutput: /prj/MAGE/analysis/deconvolution/scdc/results
# tree vs ensemble only
#outputName: MAGNetSCDC_clustQC_split_ensemble # 1
#outputName: MAGNetSCDC_clustQC_split_tree # 2
# scdc qc
#outputName: MAGNetSCDC_clustQC_ensemble # 3
outputName: MAGNetSCDC_ensemble # 4

# e.g. allow the basis matrix to reflect different gene expression patterns between cases and controls
split:
  use: FALSE
  nameAttr: Etiology
  # a single value or a list
  splitAttrs: # splitAttrs reserved name
    ctrl: NFD 
    cond: 
      - DCM 
      - HCM

# SCDC processing
opts:
  # Note: the variable names of multiple ExpressionSet objects should be consistent
  # cell type or cluster variable name
  varName: Cluster
  # sample variable name
  sampleName: Individual
  
  clustQC:
    use: FALSE
    threshold: 0.7
  # other options as defaults, see also prop.input
  
  # not yet implemented
  simple: FALSE
  
  # applies to each of the single cell reference dataset separately, then ENSEMBLE step
  # uses default for SCDC_prop_subcl_marker
  tree: 
    use: FALSE
    scdcSubcl: # scdcSubcl reserved name
      CM:
        - Atrial_cardiomyocyte
        - Ventricular_cardiomyocyte
      NCM:
        - Endothelial
        - Smooth_muscle
        - Fibroblast
        - Immune
      
  # default, unless simple is TRUE
  # all other params set to default
  ensemble:
    gridSearch: TRUE
    searchLen: 0.01 # if gridSearch is TRUE

  # either "all" or an enumeration of selected cell types
  cellTypes: all
  #cellTypes:
    #- type1
    #- type2


